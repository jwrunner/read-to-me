<ng-container *ngIf="bookService.currentChapter | async as chapter">
  <div class="chapter-header d-flex pr-2">
    <a mat-button routerLink="../" style="min-width: 48px;">
      <fa-icon [icon]="faArrowLeft"></fa-icon>
    </a>
    <h4 class="m-0 truncate">{{chapter.name | prefixChapterNumber}}</h4>
  </div>

  <div class="d-flex flex-column">
    <r2m-uploader></r2m-uploader>

    <mat-nav-list class="pt-0" *ngIf="pages$ | async as pages">
      <mat-list-item *ngFor="let page of pages" (click)="setPage(page)">
        <fa-icon [icon]="faPlay" class="text-muted" matListIcon style="font-size: 1rem; width: 1rem; height: 1rem;">
        </fa-icon>
        <div matLine>Page {{page.pageNumber}}</div>
        <div matLine class="small text-muted truncate">{{page.text}}</div>
        <!-- <button mat-icon-button [matMenuTriggerFor]="pageMenu" r2mClickStopPropagation>...</button>
        <mat-menu #pageMenu="matMenu" xPosition="before">
          <button mat-menu-item (click)="deletePage(page.id)">Delete Page</button>
        </mat-menu> -->
      </mat-list-item>
    </mat-nav-list>
  </div>
</ng-container>